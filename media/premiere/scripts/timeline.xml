<?xml version="1.0" encoding="UTF-8"?>
<timeline>
    <assets>
        <cubemap
            id="tex_sky"
            left="sky/sky_left.jpg"
            right="sky/sky_right.jpg"
            up="sky/sky_up.jpg"
            down="sky/sky_down.jpg"
            front="sky/sky_front.jpg"
            back="sky/sky_back.jpg"
        />
        <texture id="mud_d" file="mud/albedo.jpg" />
        <texture id="mud_n" file="mud/normal.jpg" />
        <buffer id="mud_terrain" file="textures/mud/terrain.png" />
        <object id="model_dragon" file="cat/cat.obj" />
        <object id="model_logo" file="logo/logo.obj" />
    </assets>
    <objects>
        <light id="global" type="point" position="20 20 -20" ambient=".8 .8 .8" diffuse=".7 .7 .7" /> 
        <light id="spotlight" type="point" position="20 20 -20" ambient=".8 .8 .8" diffuse=".7 .7 .7" /> 
        <cubemap id="obj_sky" asset="tex_sky" scale="1500 1500 1500" translate="0 10 0" />
        <object id="obj_dragon" asset="model_dragon" scale="1.2 1.2 1.2" ks=".5 .5 .5" />
        <terrain
            id="obj_ground"
            terrainX="-500"
            terrainZ="-500"
            width="1000"
            height="1000"
            heightScaling="50"
            slice="100 100"
            textureSize="100 100"
            terrain="mud_terrain"
            ambient="mud_d"
            diffuse="mud_d"
            normal="mud_n"
            ka=".4 .4 .4"
            kd=".5 .5 .5"
            ks=".1 .1 .1"
            translate="0 -15 0"
        />
    </objects>
    <actions>
        <action type="camera" view="perspective" fovy="60" near=".1f" far="3200" />
        <action type="camera" focus="0 0 0" position="0 30 -30" />
        <action type="shadow" cascades="1" position="30 30 -30" focus="0 0 0" width="1024" height="768" view="perspective" fovy="45" near=".1f" far="1600" bias="0.000125"/>
        <action type="addLight" object="global"/>
        <action type="addObject" object="obj_sky" />
        <action type="addObject" object="obj_ground" />
        <action type="addObject" object="obj_dragon" />
        <action type="animate" function="lerp" object="$camera" position="30 30 0" time="3"/>
        <action type="animate" function="lerp" object="$camera" position="0 30 30" time="6"/>
        <action type="animate" function="lerp" object="$camera" position="-40 10 0" time="12"/>
        <action type="animate" function="lerp" object="global" ambient=".8 .8 .8" diffuse=".7 .7 .7" time="12"/>
        <action type="animate" function="lerp" object="$camera" position="0 40 -30" time="14"/>
        <action type="animate" function="cubic-bezier" control="1 0 1 0" object="global" ambient="0 0 0" diffuse="0 0 0" specular="0" time="14"/>
        <action type="removeObject" object="global" time="14" />
        <action type="addLight" object="spotlight" time="14"/>
        <!--
        <action type="attribute" object="obj_sky" visible="false" time="14"/>
    -->
    </actions>
</timeline>