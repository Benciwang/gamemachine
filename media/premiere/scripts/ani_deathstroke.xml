<?xml version="1.0" encoding="UTF-8"?>
<timeline>
    <assets>
        <object id="model_deathstroke" file="deathstroke/Deathstroke.fbx" />
    </assets>
    <objects>
        <light id="light_deathstroke" type="point" position="50 50 -100" focus="0 0 0" ambient="0 0 0" diffuse="0 0 0" />

        <terrain
            id="obj_metalplate"
            terrainX="-500"
            terrainZ="-500"
            width="1000"
            height="1000"
            heightScaling="50"
            slice="100 100"
            textureSize="100 100"
            ambient="tex_gravelroad_diffuse"
            diffuse="tex_gravelroad_diffuse"
            normal="tex_gravelroad_normal"
            ka=".4 .4 .4"
            kd=".5 .5 .5"
            ks=".2 .2 .2"
            translate="0 0 0"
        />

        <shadow id="shadow_deathstroke" cascades="1" position="75 100 -150" focus="0 0 -50" width="1024" height="768" view="perspective" fovy="45" near=".1f" far="1600" bias="0.00000825"/>
        <object id="obj_deathstroke" asset="model_deathstroke" scale="8 8 8" rotate="0 1 0 180"/>
    </objects>
    <actions>
        <include file="ani_fireworks.xml" />

        <action type="addObject" object="shadow_deathstroke" time="+0"/>
        <action type="camera" direction="0 0 1" position="0 30 0" time="+0"/>
        <action type="addObject" object="obj_metalplate" time="+0"/>
        <action type="addObject" object="light_deathstroke" time="+0" />
        <action type="addObject" object="obj_deathstroke" time="+0"/>

        <checkpoint type="save"/>
        <action type="animate" action="play" object="light_deathstroke" time="+0"/>
        <action type="animate" function="linear" object="light_deathstroke" ambient="1 1 1" diffuse="3 3 3" specular="2 2 2" endtime="6"/>
        <action type="animate" action="stop" object="light_deathstroke" time="+6"/>
        <checkpoint type="load"/>

        <action type="animate" action="play" object="$camera" time="+0"/>
        <action type="animate" function="cubic-bezier" control="0 .75 .75 1" object="$camera" direction="0 0 1" position="0 20 -130" endtime="12"/>
        <action type="animate" action="stop" object="$camera" time="+12"/>
        <checkpoint type="load"/>

        <action type="animate" action="play" object="obj_deathstroke" time="+0"/>
        <action type="animate" action="lerp" object="obj_deathstroke" translate="0 0 -125" endtime="12" />
        <action type="animate" action="stop" object="obj_deathstroke" time="+12"/>

        <action type="animate" action="play" object="light_deathstroke" time="-2"/>
        <action type="animate" function="linear" object="light_deathstroke" ambient="0 0 0" diffuse="0 0 0" specular="0" endtime="2"/>
        <action type="animate" action="stop" object="light_deathstroke" time="+0"/>
        
        <action type="removeObject" object="light_deathstroke" time="+0" />
        <action type="removeObject" object="obj_deathstroke" time="+0" />
        <action type="removeObject" object="obj_metalplate" time="+0" />
        <action type="removeShadow" time="+0"/>
    </actions>
</timeline>